<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Day-Wise Study Hours</title>
<link rel="stylesheet" href="style.css">
<style>
  /* Page base */
  html,body { height: 100%; }
  body {
    margin: 0;
    padding: 0;
    font-family: 'Poppins', sans-serif;
    color: #fff;
    overflow: hidden; /* hide page scrollbar */
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    /* background pan (bigger than viewport so movement is visible) */
    background: url('images/study-bg.jpg') center center / 140% auto no-repeat;
    animation: bgPan 40s ease-in-out infinite alternate;
  }

  /* Smooth left-to-right pan */
  @keyframes bgPan {
    0%   { background-position: 0% center; }
    50%  { background-position: 100% center; }
    100% { background-position: 0% center; }
  }

  /* container keeps content inside viewport safely */
  .page {
    height: 100vh;
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
    padding: 18px;
    gap: 12px;
    align-items: center;
    justify-content: flex-start;
    backdrop-filter: none;
  }

  h1 {
    margin: 6px 0 0;
    font-size: 2.2rem;
    text-shadow: 2px 2px 8px rgba(0,0,0,0.45);
  }
  p.lead {
    margin: 6px 0 12px;
    opacity: 0.95;
  }

  /* top menu */
  .menu { display: flex; gap: 8px; margin-bottom: 6px; }
  .menu button {
    padding: 8px 14px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    font-weight: 700;
    background: linear-gradient(90deg,#f6d365,#fda085);
    color: #fff;
    box-shadow: 0 6px 18px rgba(0,0,0,0.25);
    transition: transform .18s, box-shadow .18s;
  }
  .menu button:hover { transform: translateY(-3px); box-shadow: 0 10px 25px rgba(0,0,0,0.35); }

  /* Schedule area: this area can scroll internally (scrollbars hidden) */
  .schedule {
    display: flex;
    gap: 18px;
    width: 100%;
    max-width: 1200px;
    flex: 1 1 auto;
    align-items: flex-start;
    justify-content: center;
    padding: 6px;
    box-sizing: border-box;
    overflow: auto; /* allow internal scrolling if content exceeds area */
    -webkit-overflow-scrolling: touch;
  }

  /* hide visible scrollbars but keep scroll capability */
  .schedule::-webkit-scrollbar { display: none; }
  .schedule { scrollbar-width: none; -ms-overflow-style: none; }

  /* day card */
  .day {
    background: rgba(255,255,255,0.12);
    backdrop-filter: blur(8px);
    border-radius: 14px;
    padding: 14px;
    width: 320px;
    max-width: 36%;
    box-sizing: border-box;
    box-shadow: 0 8px 30px rgba(0,0,0,0.35);
    transition: transform .22s, box-shadow .22s;
    display: flex;
    flex-direction: column;
    gap: 8px;
    max-height: calc(100vh - 180px); /* keep inside viewport */
    overflow: auto; /* day internal scroll if tasks overflow */
  }

  .day::-webkit-scrollbar { display: none; }
  .day { scrollbar-width: none; -ms-overflow-style: none; }

  .day h2 {
    margin: 0 0 6px;
    font-size: 1.1rem;
    color: #fff;
    line-height: 1.1;
  }
  .day h2 small { display:block; font-size:0.85rem; color: rgba(255,255,255,0.85); margin-top:6px; }

  .day:hover { transform: translateY(-6px); box-shadow: 0 18px 45px rgba(0,0,0,0.45); }

  .task {
    padding: 8px 10px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    gap: 10px;
    background: rgba(255,255,255,0.06);
    cursor: text;
    transition: transform .14s, background-color .14s, box-shadow .14s;
  }
  .task:hover { transform: scale(1.02); background: rgba(255,255,255,0.12); box-shadow: 0 6px 20px rgba(0,0,0,0.25); }

  /* tiny type colors for readability */
  .lunch { background:#b2f7b2; color:#000; }
  .homework { background:#ffe066; color:#000; }
  .leave { background:#ffb366; color:#000; }
  .backlog { background:#ff8080; color:#000; }
  .relax { background:#80b3ff; color:#000; }
  .study { background:#d6b3ff; color:#000; border:2px solid #8c33ff; }
  .game { background:#80dfff; color:#000; }

  /* Save button */
  #saveStudyBtn {
    margin-top: 12px;
    padding: 10px 18px;
    border-radius: 10px;
    border: none;
    background: linear-gradient(90deg,#36d1dc,#5b86e5);
    color: #fff;
    font-weight: 700;
    cursor: pointer;
    box-shadow: 0 12px 30px rgba(0,0,0,0.28);
  }
  #saveStudyBtn:hover { transform: translateY(-3px); }

  /* Responsive tweaks */
  @media (max-width: 980px) {
    .day { width: 300px; max-width: 45%; }
    .schedule { gap: 12px; padding: 10px; }
  }
  @media (max-width: 680px) {
    body { background-size: 180% auto; animation-duration: 60s; }
    .page { padding: 12px; }
    h1 { font-size: 1.6rem; }
    .schedule { flex-direction: column; align-items: center; overflow: auto; }
    .day { width: 92%; max-width: 480px; }
  }
</style>
</head>
<body>
  <div class="page">
    <h1>Day-Wise Study Hours</h1>
    <p class="lead">Your weekly schedule for success</p>

    <div class="menu">
      <button onclick="location.href='index.html'">Home</button>
      <button onclick="location.href='timetable.html'">Timetable</button>
      <button onclick="location.href='notes.html'">Backlog</button>
    </div>

    <div class="schedule" id="schedule">
      <!-- day cards injected here -->
    </div>

    <button id="saveStudyBtn">Save Study Hours</button>
  </div>

<script>
/* Default schedule data (unchanged) */
const defaultSchedule = [
  {
    day: 'Weekday',
    color: 'weekday',
    hours: 'Per Day Hrs: 5.5',
    tasks: [
      {emoji:'ðŸ½', title:'Lunch & Relax', time:'3:00-4:00 PM', type:'lunch'},
      {emoji:'âœï¸', title:'School Homework', time:'4:00-4:50 PM', type:'homework'},
      {emoji:'ðŸƒ', title:'Prepare for Backlog', time:'4:50-5:00 PM', type:'leave'},
      {emoji:'ðŸ‘¨â€ðŸ«', title:'Backlog Time', time:'5:00-6:30 PM', type:'backlog'},
      {emoji:'ðŸ ', title:'Return Home & Relax', time:'6:30-7:00 PM', type:'relax'},
      {emoji:'ðŸ“š', title:'Study Time', time:'7:00 PM-12:30 AM', type:'study'}
    ]
  },
  {
    day: 'Saturday',
    color: 'saturday',
    hours: 'Total Hrs: 14.5',
    tasks: [
      {emoji:'ðŸ“š', title:'Study Time', time:'8:00 AM-4:00 PM', type:'study'},
      {emoji:'âœï¸', title:'School Homework', time:'4:00-4:50 PM', type:'homework'},
      {emoji:'ðŸƒ', title:'Prepare for Backlog', time:'4:50-5:00 PM', type:'leave'},
      {emoji:'ðŸ‘¨â€ðŸ«', title:'Backlog Time', time:'5:00-6:30 PM', type:'backlog'},
      {emoji:'ðŸŽ®', title:'Backlog Time', time:'6:30-7:45 PM', type:'backlog'},
      {emoji:'ðŸ“š', title:'Study Time', time:'8:00 PM-2:30 AM', type:'study'}
    ]
  },
  {
    day: 'Sunday',
    color: 'sunday',
    hours: 'Total Hrs: 12.5',
    tasks: [
      {emoji:'ðŸ“š', title:'Study Time', time:'8:00 AM-4:00 PM', type:'study'},
      {emoji:'âœï¸', title:'School Homework', time:'4:00-4:50 PM', type:'homework'},
      {emoji:'ðŸƒ', title:'Prepare for Backlog', time:'4:50-5:00 PM', type:'leave'},
      {emoji:'ðŸ‘¨â€ðŸ«', title:'Backlog Time', time:'5:00-6:30 PM', type:'backlog'},
      {emoji:'ðŸŽ®', title:'Backlog Time', time:'6:30-7:45 PM', type:'backlog'},
      {emoji:'ðŸ“š', title:'Study Time', time:'8:00 PM-12:30 AM', type:'study'}
    ]
  }
];

let scheduleData = JSON.parse(localStorage.getItem('studySchedule')) || defaultSchedule;

const scheduleContainer = document.getElementById('schedule');
const saveStudyBtn = document.getElementById('saveStudyBtn');

function renderSchedule() {
  scheduleContainer.innerHTML = '';
  scheduleData.forEach((dayObj, index) => {
    const dayDiv = document.createElement('div');
    dayDiv.className = 'day';
    // day header with hours in small
    const header = document.createElement('h2');
    header.innerHTML = `${dayObj.day} <small>${dayObj.hours}</small>`;
    dayDiv.appendChild(header);

    // tasks
    dayObj.tasks.forEach((task, tIndex) => {
      const t = document.createElement('div');
      t.className = `task ${task.type}`;
      t.contentEditable = true; // editable inline
      t.dataset.day = index;
      t.dataset.task = tIndex;
      t.innerText = task.text || `${task.emoji} ${task.title}: ${task.time}`;
      // save when user stops editing
      t.addEventListener('blur', saveSchedule);
      dayDiv.appendChild(t);
    });

    scheduleContainer.appendChild(dayDiv);
  });
}

function saveSchedule() {
  // collect edited text back into scheduleData
  document.querySelectorAll('.day').forEach((dayDiv, dayIndex) => {
    dayDiv.querySelectorAll('.task').forEach((taskDiv, taskIndex) => {
      scheduleData[dayIndex].tasks[taskIndex].text = taskDiv.innerText;
    });
  });
  localStorage.setItem('studySchedule', JSON.stringify(scheduleData));
  // optional subtle feedback (not intrusive)
  saveStudyBtn.textContent = 'Saved âœ“';
  setTimeout(()=> saveStudyBtn.textContent = 'Save Study Hours', 1200);
}

saveStudyBtn.addEventListener('click', saveSchedule);

renderSchedule();

/* Prevent page-level scrolling with arrow keys/wheel when focusing schedule area?
   We allow internal scrolling of .schedule; page-level scroll is hidden (overflow:hidden).
   No extra JS needed. If you want to block touch move entirely, we can add event.preventDefault here. */
</script>
</body>
</html>
